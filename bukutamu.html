<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buku Tamu - LAKSMIÉ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fffaf9;
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 700px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2 {
      color: #f2a5b5;
      text-align: center;
    }

    form {
      margin-bottom: 30px;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 14px;
    }

    button {
      background-color: #f2a5b5;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #e08fa2;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 10px;
    }

    th {
      background-color: #f2a5b5;
      color: white;
      text-align: left;
    }

    td {
      vertical-align: top;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Buku Tamu LAKSMIÉ</h2>
  
  <!-- Form Input -->
  <form id="guestForm">
    <input type="text" id="nama" placeholder="Nama Lengkap" required>
    <input type="email" id="email" placeholder="Email" required>
    <textarea id="pesan" rows="4" placeholder="Pesan atau Kesan Anda..." required></textarea>
    <button type="submit">Kirim</button>
  </form>

  <!-- Tabel Data -->
  <h3>Data Buku Tamu:</h3>
  <table id="guestTable">
    <thead>
      <tr>
        <th>No</th>
        <th>Nama</th>
        <th>Email</th>
        <th>Pesan</th>
      </tr>
    </thead>
    <tbody>
      <!-- Data akan di-render oleh JS -->
    </tbody>
  </table>
</div>

<div style="text-align:center; margin-top: 10px;">
  <a href="index.html">&larr; Kembali ke Beranda</a>
</div>

<script>
  // Ambil data dari localStorage atau buat array kosong
  let guests = JSON.parse(localStorage.getItem('guests') || '[]');

  const guestTableBody = document.querySelector('#guestTable tbody');
  const guestForm = document.getElementById('guestForm');

  // Fungsi render tabel
  function renderTable() {
    guestTableBody.innerHTML = '';
    guests.forEach((g, index) => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${index + 1}</td>
        <td>${g.nama}</td>
        <td>${g.email}</td>
        <td>${g.pesan}</td>
      `;
      guestTableBody.appendChild(row);
    });
  }

  // Render awal saat halaman dibuka
  renderTable();

  // Tangani submit form
  guestForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const nama = document.getElementById('nama').value.trim();
    const email = document.getElementById('email').value.trim();
    const pesan = document.getElementById('pesan').value.trim();

    if(nama && email && pesan) {
      // Tambahkan data baru di awal array
      guests.unshift({nama,email,pesan});
      // Simpan ke localStorage
      localStorage.setItem('guests', JSON.stringify(guests));
      // Render ulang tabel
      renderTable();
      // Reset form
      guestForm.reset();
    }
  });
</script>

</body>
</html>
